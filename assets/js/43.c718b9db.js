(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{405:function(t,s,a){"use strict";a.r(s);var e=a(26),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"传输方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#传输方式"}},[t._v("#")]),t._v(" 传输方式")]),t._v(" "),a("p",[t._v("传输方式（transport）是当前 Xray 节点和其它节点对接的方式。")]),t._v(" "),a("p",[t._v("传输方式指定了稳定的数据传输的方式。通常来说，一个网络连接的两端需要有对称的传输方式。比如一端用了 WebSocket，那么另一个端也必须使用 WebSocket，否则无法建立连接。")]),t._v(" "),a("p",[t._v("传输方式（transport）配置有两部分:")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("全局设置（"),a("a",{attrs:{href:"#transportobject"}},[t._v("TransportObject")]),t._v("）")])]),t._v(" "),a("li",[a("p",[t._v("指定inbound/outbound配置（"),a("a",{attrs:{href:"#streamsettingsobject"}},[t._v("StreamSettingsObject")]),t._v("）。")]),t._v(" "),a("p",[t._v("指定inbound/outbound配置时,可以指定每个单独的inbound/outbound用怎样的方式传输。")]),t._v(" "),a("p",[t._v("通常来说客户端和服务器对应的inbound和outbound需要使用同样的传输方式。当inbound/outbound配置指定了一种传输方式，但没有填写其具体设置时，此传输方式会使用全局配置中的设置。")])])]),t._v(" "),a("h2",{attrs:{id:"transportobject"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#transportobject"}},[t._v("#")]),t._v(" TransportObject")]),t._v(" "),a("p",[a("code",[t._v("TransportObject")]),t._v(" 对应配置文件的 "),a("code",[t._v("transport")]),t._v(" 项。")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"transport"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"tcpSettings"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"kcpSettings"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"wsSettings"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"httpSettings"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"quicSettings"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"dsSettings"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"grpcSettings"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("blockquote",[a("p",[a("code",[t._v("tcpSettings")]),t._v(": "),a("a",{attrs:{href:"./transports/tcp"}},[t._v("TcpObject")])])]),t._v(" "),a("p",[t._v("针对 TCP 连接的配置。")]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("kcpSettings")]),t._v(": "),a("a",{attrs:{href:"./transports/mkcp"}},[t._v("KcpObject")])])]),t._v(" "),a("p",[t._v("针对 mKCP 连接的配置。")]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("wsSettings")]),t._v(": "),a("a",{attrs:{href:"./transports/websocket"}},[t._v("WebSocketObject")])])]),t._v(" "),a("p",[t._v("针对 WebSocket 连接的配置。")]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("httpSettings")]),t._v(": "),a("a",{attrs:{href:"./transports/h2"}},[t._v("HttpObject")])])]),t._v(" "),a("p",[t._v("针对 HTTP/2 连接的配置。")]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("quicSettings")]),t._v(": "),a("a",{attrs:{href:"./transports/quic"}},[t._v("QuicObject")])])]),t._v(" "),a("p",[t._v("针对 QUIC 连接的配置。")]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("grpcSettings")]),t._v(": "),a("a",{attrs:{href:"./transports/grpc"}},[t._v("GRPCObject")])])]),t._v(" "),a("p",[t._v("针对 gRPC 连接的配置。")]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("dsSettings")]),t._v(": "),a("a",{attrs:{href:"./transports/domainsocket"}},[t._v("DomainSocketObject")])])]),t._v(" "),a("p",[t._v("针对 Domain Socket 连接的配置。")]),t._v(" "),a("h2",{attrs:{id:"streamsettingsobject"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#streamsettingsobject"}},[t._v("#")]),t._v(" StreamSettingsObject")]),t._v(" "),a("p",[a("code",[t._v("StreamSettingsObject")]),t._v(" 对应inbound/outbound中的 "),a("code",[t._v("streamSettings")]),t._v(" 项。每一个 inbound/outbound 都可以分别配置不同的传输配置，都可以设置 "),a("code",[t._v("streamSettings")]),t._v(" 来进行一些传输的配置。")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"network"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"tcp"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"security"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"none"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"tlsSettings"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"xtlsSettings"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"tcpSettings"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"kcpSettings"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"wsSettings"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"httpSettings"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"quicSettings"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"dsSettings"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"grpcSettings"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"sockopt"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"mark"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"tcpFastOpen"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"tproxy"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"off"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"domainStrategy"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"AsIs"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"dialerProxy"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("blockquote",[a("p",[a("code",[t._v("network")]),t._v(': "tcp" | "kcp" | "ws" | "http" | "domainsocket" | "quic"')])]),t._v(" "),a("p",[t._v("连接的数据流所使用的传输方式类型，默认值为 "),a("code",[t._v('"tcp"')])]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("security")]),t._v(': "none" | "tls" | "xtls"')])]),t._v(" "),a("p",[t._v("是否启用传输层加密，支持的选项有")]),t._v(" "),a("ul",[a("li",[a("code",[t._v('"none"')]),t._v(" 表示不加密（默认值）")]),t._v(" "),a("li",[a("code",[t._v('"tls"')]),t._v(" 表示使用 "),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/base/transport_Layer_Security",target:"_blank",rel:"noopener noreferrer"}},[t._v("TLS"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("li",[a("code",[t._v('"xtls"')]),t._v(" 表示使用 "),a("a",{attrs:{href:"./examples/xtls"}},[t._v("XTLS")]),t._v("。")])]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("tlsSettings")]),t._v(": "),a("a",{attrs:{href:"#tlsobject"}},[t._v("TLSObject")])])]),t._v(" "),a("p",[t._v("TLS 配置。TLS 由 Golang 提供，通常情况下TLS协商的结果为使用 TLS 1.3，不支持 DTLS。")]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("xtlsSettings")]),t._v(": "),a("a",{attrs:{href:"#tlsobject"}},[t._v("XTLSObject")])])]),t._v(" "),a("p",[t._v("XTLS 配置。XTLS 是 Xray 的原创黑科技, 也是使 Xray 性能一骑绝尘的核心动力.\nXTLS 与 TLS 有相同的安全性, 配置方式也和TLS一致. 点击此处查看"),a("a",{attrs:{href:"./examples/xtls"}},[t._v("XTLS的技术细节剖析")])]),t._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),a("p",[t._v("TLS / XTLS 是目前最安全的传输加密方案, 且外部看来流量类型和正常上网具有一致性.\n启用 XTLS 并且配置合适的XTLS流控模式, 可以在保持和 TLS 相同的安全性的前提下, 性能达到数倍甚至十几倍的提升.\n当 "),a("code",[t._v("security")]),t._v(" 的值从'tls'改为'xtls'时, 只需将"),a("code",[t._v("tlsSettings")]),t._v(" 修改成为 "),a("code",[t._v("xtlsSettings")])])]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("tcpSettings")]),t._v(": "),a("a",{attrs:{href:"./transports/tcp"}},[t._v("TcpObject")])])]),t._v(" "),a("p",[t._v("当前连接的 TCP 配置，仅当此连接使用 TCP 时有效。配置内容与上面的全局配置相同。")]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("kcpSettings")]),t._v(": "),a("a",{attrs:{href:"./transports/mkcp"}},[t._v("KcpObject")])])]),t._v(" "),a("p",[t._v("当前连接的 mKCP 配置，仅当此连接使用 mKCP 时有效。配置内容与上面的全局配置相同。")]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("wsSettings")]),t._v(": "),a("a",{attrs:{href:"./transports/websocket"}},[t._v("WebSocketObject")])])]),t._v(" "),a("p",[t._v("当前连接的 WebSocket 配置，仅当此连接使用 WebSocket 时有效。配置内容与上面的全局配置相同。")]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("httpSettings")]),t._v(": "),a("a",{attrs:{href:"./transports/h2"}},[t._v("HttpObject")])])]),t._v(" "),a("p",[t._v("当前连接的 HTTP/2 配置，仅当此连接使用 HTTP/2 时有效。配置内容与上面的全局配置相同。")]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("quicSettings")]),t._v(": "),a("a",{attrs:{href:"./transports/quic"}},[t._v("QUICObject")])])]),t._v(" "),a("p",[t._v("当前连接的 QUIC 配置，仅当此连接使用 QUIC 时有效。配置内容与上面的全局配置相同。")]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("grpcSettings")]),t._v(": "),a("a",{attrs:{href:"./transports/grpc"}},[t._v("GRPCObject")])])]),t._v(" "),a("p",[t._v("当前连接的 gRPC 配置，仅当此连接使用 gRPC 时有效。配置内容与上面的全局配置相同。")]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("dsSettings")]),t._v(": "),a("a",{attrs:{href:"./transports/domainsocket"}},[t._v("DomainSocketObject")])])]),t._v(" "),a("p",[t._v("当前连接的 Domain socket 配置，仅当此连接使用 Domain socket 时有效。配置内容与上面的全局配置相同。")]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("sockopt")]),t._v(": "),a("a",{attrs:{href:"#sockoptobject"}},[t._v("SockoptObject")])])]),t._v(" "),a("p",[t._v("透明代理相关的具体配置。")]),t._v(" "),a("h3",{attrs:{id:"tlsobject"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tlsobject"}},[t._v("#")]),t._v(" TLSObject")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"serverName"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xray.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"allowInsecure"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"alpn"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"h2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http/1.1"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"minVersion"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"maxVersion"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.3"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"preferServerCipherSuites"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"cipherSuites"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"此处填写你需要的加密套件名称,每个套件名称之间用:进行分隔"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"certificates"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"disableSystemRoot"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"enableSessionResumption"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("blockquote",[a("p",[a("code",[t._v("serverName")]),t._v(": string")])]),t._v(" "),a("p",[t._v("指定服务器端证书的域名，在连接由 IP 建立时有用。")]),t._v(" "),a("p",[t._v("当目标连接由域名指定时，比如在 Socks inbound接收到了域名，或者由 Sniffing 功能探测出了域名，这个域名会自动用于 "),a("code",[t._v("serverName")]),t._v("，无须手动配置。")]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("alpn")]),t._v(": [ string ]")])]),t._v(" "),a("p",[t._v("一个字符串数组，指定了 TLS 握手时指定的 ALPN 数值。默认值为 "),a("code",[t._v('["h2", "http/1.1"]')]),t._v("。")]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("minVersion")]),t._v(": [ string ]")])]),t._v(" "),a("p",[t._v("minVersion为可接受的最小SSL/TLS版本。")]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("maxVersion")]),t._v(": [ string ]")])]),t._v(" "),a("p",[t._v("maxVersion为可接受的最大SSL/TLS版本。")]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("preferServerCipherSuites")]),t._v(": true | false")])]),t._v(" "),a("p",[t._v("指示服务器选择客户端最喜欢的密码套件 或 服务器最优选的密码套件。")]),t._v(" "),a("p",[t._v("如果为true则为使用服务器的最优选的密码套件")]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("cipherSuites")]),t._v(": [ string ]")])]),t._v(" "),a("p",[t._v("CipherSuites用于配置受支持的密码套件列表, 每个套件名称之间用:进行分隔.")]),t._v(" "),a("p",[t._v("你可以在"),a("a",{attrs:{href:"https://golang.org/src/crypto/tls/cipher_suites.go#L500",target:"_blank",rel:"noopener noreferrer"}},[t._v("这里"),a("OutboundLink")],1),t._v("或"),a("a",{attrs:{href:"https://golang.org/src/crypto/tls/cipher_suites.go#L44",target:"_blank",rel:"noopener noreferrer"}},[t._v("这里"),a("OutboundLink")],1),t._v("找到golang加密套件的名词和说明")]),t._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),a("p",[t._v("以上两项配置为非必要选项，正常情况下不影响安全性\n在未配置的情况下golang根据设备自动选择.\n若不熟悉, 请勿配置此选项, 填写不当引起的问题自行负责")])]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("allowInsecure")]),t._v(": true | false")])]),t._v(" "),a("p",[t._v("是否允许不安全连接（仅用于客户端）。默认值为 "),a("code",[t._v("false")]),t._v("。")]),t._v(" "),a("p",[t._v("当值为 "),a("code",[t._v("true")]),t._v(" 时，Xray 不会检查远端主机所提供的 TLS 证书的有效性。")]),t._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),a("p",[t._v("出于安全性考虑，这个选项不应该在实际场景中选择true，否则可能遭受中间人攻击。")])]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("disableSystemRoot")]),t._v(": true | false")])]),t._v(" "),a("p",[t._v("是否禁用操作系统自带的 CA 证书。默认值为 "),a("code",[t._v("false")]),t._v("。")]),t._v(" "),a("p",[t._v("当值为 "),a("code",[t._v("true")]),t._v(" 时，Xray 只会使用 "),a("code",[t._v("certificates")]),t._v(" 中指定的证书进行 TLS 握手。当值为 "),a("code",[t._v("false")]),t._v(" 时，Xray 只会使用操作系统自带的 CA 证书进行 TLS 握手。")]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("enableSessionResumption")]),t._v(": true | false")])]),t._v(" "),a("p",[t._v("此参数的设置为false时, ClientHello 里没有 session_ticket 这个扩展。\n通常来讲 go 语言程序的 ClientHello 里并没有用到这个扩展, 因此建议保持默认值。\n默认值为 "),a("code",[t._v("false")]),t._v("。")]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("certificates")]),t._v(": [ "),a("a",{attrs:{href:"#certificateobject"}},[t._v("CertificateObject")]),t._v(" ]")])]),t._v(" "),a("p",[t._v("证书列表，其中每一项表示一个证书（建议 fullchain）。")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("如果要在 ssllibs 或者 myssl 获得 A/A+ 等级的评价, 请参考"),a("a",{attrs:{href:"https://github.com/XTLS/Xray-core/discussions/56#discussioncomment-215600",target:"_blank",rel:"noopener noreferrer"}},[t._v("这里"),a("OutboundLink")],1),t._v(".")])]),t._v(" "),a("h4",{attrs:{id:"certificateobject"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#certificateobject"}},[t._v("#")]),t._v(" CertificateObject")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ocspStapling"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3600")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"usage"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"encipherment"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"certificateFile"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/path/to/certificate.crt"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"keyFile"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/path/to/key.key"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"certificate"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"--BEGIN CERTIFICATE--"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MIICwDCCAaigAwIBAgIRAO16JMdESAuHidFYJAR/7kAwDQYJKoZIhvcNAQELBQAw"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ADAeFw0xODA0MTAxMzU1MTdaFw0xODA0MTAxNTU1MTdaMAAwggEiMA0GCSqGSIb3"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"DQEBAQUAA4IBDwAwggEKAoIBAQCs2PX0fFSCjOemmdm9UbOvcLctF94Ox4BpSfJ+"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"3lJHwZbvnOFuo56WhQJWrclKoImp/c9veL1J4Bbtam3sW3APkZVEK9UxRQ57HQuw"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"OzhV0FD20/0YELou85TwnkTw5l9GVCXT02NG+pGlYsFrxesUHpojdl8tIcn113M5"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pypgDPVmPeeORRf7nseMC6GhvXYM4txJPyenohwegl8DZ6OE5FkSVR5wFQtAhbON"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"OAkIVVmw002K2J6pitPuJGOka9PxcCVWhko/W+JCGapcC7O74palwBUuXE1iH+Jp"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"noPjGp4qE2ognW3WH/sgQ+rvo20eXb9Um1steaYY8xlxgBsXAgMBAAGjNTAzMA4G"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"A1UdDwEB/wQEAwIFoDATBgNVHSUEDDAKBggrBgEFBQcDATAMBgNVHRMBAf8EAjAA"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MA0GCSqGSIb3DQEBCwUAA4IBAQBUd9sGKYemzwPnxtw/vzkV8Q32NILEMlPVqeJU"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"7UxVgIODBV6A1b3tOUoktuhmgSSaQxjhYbFAVTD+LUglMUCxNbj56luBRlLLQWo+"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"9BUhC/ow393tLmqKcB59qNcwbZER6XT5POYwcaKM75QVqhCJVHJNb1zSEE7Co7iO"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"6wIan3lFyjBfYlBEz5vyRWQNIwKfdh5cK1yAu13xGENwmtlSTHiwbjBLXfk+0A/8"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"r/2s+sCYUkGZHhj8xY7bJ1zg0FRalP5LrqY+r6BckT1QPDIQKYy615j1LpOtwZe/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"d4q7MD/dkzRDsch7t2cIjM/PYeMuzh87admSyL6hdtK0Nm/Q"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"--END CERTIFICATE--"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"key"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"--BEGIN RSA PRIVATE KEY--"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MIIEowIBAAKCAQEArNj19HxUgoznppnZvVGzr3C3LRfeDseAaUnyft5SR8GW75zh"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bqOeloUCVq3JSqCJqf3Pb3i9SeAW7Wpt7FtwD5GVRCvVMUUOex0LsDs4VdBQ9tP9"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"GBC6LvOU8J5E8OZfRlQl09NjRvqRpWLBa8XrFB6aI3ZfLSHJ9ddzOacqYAz1Zj3n"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"jkUX+57HjAuhob12DOLcST8np6IcHoJfA2ejhORZElUecBULQIWzjTgJCFVZsNNN"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"itieqYrT7iRjpGvT8XAlVoZKP1viQhmqXAuzu+KWpcAVLlxNYh/iaZ6D4xqeKhNq"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"IJ1t1h/7IEPq76NtHl2/VJtbLXmmGPMZcYAbFwIDAQABAoIBAFCgG4phfGIxK9Uw"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"qrp+o9xQLYGhQnmOYb27OpwnRCYojSlT+mvLcqwvevnHsr9WxyA+PkZ3AYS2PLue"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"C4xW0pzQgdn8wENtPOX8lHkuBocw1rNsCwDwvIguIuliSjI8o3CAy+xVDFgNhWap"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/CMzfQYziB7GlnrM6hH838iiy0dlv4I/HKk+3/YlSYQEvnFokTf7HxbDDmznkJTM"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"aPKZ5qbnV+4AcQfcLYJ8QE0ViJ8dVZ7RLwIf7+SG0b0bqloti4+oQXqGtiESUwEW"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/Wzi7oyCbFJoPsFWp1P5+wD7jAGpAd9lPIwPahdr1wl6VwIx9W0XYjoZn71AEaw4"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bK4xUXECgYEA3g2o9WqyrhYSax3pGEdvV2qN0VQhw7Xe+jyy98CELOO2DNbB9QNJ"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"8cSSU/PjkxQlgbOJc8DEprdMldN5xI/srlsbQWCj72wXxXnVnh991bI2clwt7oYi"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pcGZwzCrJyFL+QaZmYzLxkxYl1tCiiuqLm+EkjxCWKTX/kKEFb6rtnMCgYEAx0WR"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"L8Uue3lXxhXRdBS5QRTBNklkSxtU+2yyXRpvFa7Qam+GghJs5RKfJ9lTvjfM/PxG"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"3vhuBliWQOKQbm1ZGLbgGBM505EOP7DikUmH/kzKxIeRo4l64mioKdDwK/4CZtS7"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"az0Lq3eS6bq11qL4mEdE6Gn/Y+sqB83GHZYju80CgYABFm4KbbBcW+1RKv9WSBtK"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"gVIagV/89moWLa/uuLmtApyEqZSfn5mAHqdc0+f8c2/Pl9KHh50u99zfKv8AsHfH"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"TtjuVAvZg10GcZdTQ/I41ruficYL0gpfZ3haVWWxNl+J47di4iapXPxeGWtVA+u8"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eH1cvgDRMFWCgE7nUFzE8wKBgGndUomfZtdgGrp4ouLZk6W4ogD2MpsYNSixkXyW"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"64cIbV7uSvZVVZbJMtaXxb6bpIKOgBQ6xTEH5SMpenPAEgJoPVts816rhHdfwK5Q"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"8zetklegckYAZtFbqmM0xjOI6bu5rqwFLWr1xo33jF0wDYPQ8RHMJkruB1FIB8V2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"GxvNAoGBAM4g2z8NTPMqX+8IBGkGgqmcYuRQxd3cs7LOSEjF9hPy1it2ZFe/yUKq"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ePa2E8osffK5LBkFzhyQb0WrGC9ijM9E6rv10gyuNjlwXdFJcdqVamxwPUBtxRJR"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cYTY2HRkJXDdtT0Bkc3josE6UUDvwMpO0CfAETQPto1tjNEDhQhT"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"--END RSA PRIVATE KEY--"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("blockquote",[a("p",[a("code",[t._v("ocspStapling")]),t._v(": number")])]),t._v(" "),a("p",[t._v("ocspStapling 检查更新时间间隔。 单位：秒")]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("usage")]),t._v(': "encipherment" | "verify" | "issue"')])]),t._v(" "),a("p",[t._v("证书用途，默认值为 "),a("code",[t._v('"encipherment"')]),t._v("。")]),t._v(" "),a("ul",[a("li",[a("code",[t._v('"encipherment"')]),t._v("：证书用于 TLS 认证和加密。")]),t._v(" "),a("li",[a("code",[t._v('"verify"')]),t._v("：证书用于验证远端 TLS 的证书。当使用此项时，当前证书必须为 CA 证书。")]),t._v(" "),a("li",[a("code",[t._v('"issue"')]),t._v("：证书用于签发其它证书。当使用此项时，当前证书必须为 CA 证书。")])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP 1")]),t._v(" "),a("p",[t._v("在 Windows 平台上可以将自签名的 CA 证书安装到系统中，即可验证远端 TLS 的证书。")])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP 2")]),t._v(" "),a("p",[t._v("当有新的客户端请求时，假设所指定的 "),a("code",[t._v("serverName")]),t._v(" 为 "),a("code",[t._v('"xray.com"')]),t._v("，Xray 会先从证书列表中寻找可用于 "),a("code",[t._v('"xray.com"')]),t._v(" 的证书，如果没有找到，则使用任一 "),a("code",[t._v("usage")]),t._v(" 为 "),a("code",[t._v('"issue"')]),t._v(" 的证书签发一个适用于 "),a("code",[t._v('"xray.com"')]),t._v(" 的证书，有效期为一小时。并将新的证书加入证书列表，以供后续使用。")])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP 3")]),t._v(" "),a("p",[t._v("当 "),a("code",[t._v("certificateFile")]),t._v(" 和 "),a("code",[t._v("certificate")]),t._v(" 同时指定时，Xray 优先使用 "),a("code",[t._v("certificateFile")]),t._v("。"),a("code",[t._v("keyFile")]),t._v(" 和 "),a("code",[t._v("key")]),t._v(" 也一样。")])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP 4")]),t._v(" "),a("p",[t._v("当 "),a("code",[t._v("usage")]),t._v(" 为 "),a("code",[t._v('"verify"')]),t._v(" 时，"),a("code",[t._v("keyFile")]),t._v(" 和 "),a("code",[t._v("key")]),t._v(" 可均为空。")])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP 5")]),t._v(" "),a("p",[t._v("使用 "),a("code",[t._v("xray tls cert")]),t._v(" 可以生成自签名的 CA 证书。")])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP 6")]),t._v(" "),a("p",[t._v("如已经拥有一个域名, 可以使用工具便捷的获取免费第三方证书,如"),a("a",{attrs:{href:"https://github.com/acmesh-official/acme.sh",target:"_blank",rel:"noopener noreferrer"}},[t._v("acme.sh"),a("OutboundLink")],1)])]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("certificateFile")]),t._v(": string")])]),t._v(" "),a("p",[t._v("证书文件路径，如使用 OpenSSL 生成，后缀名为 .crt。")]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("certificate")]),t._v(": [ string ]")])]),t._v(" "),a("p",[t._v("一个字符串数组，表示证书内容，格式如样例所示。"),a("code",[t._v("certificate")]),t._v(" 和 "),a("code",[t._v("certificateFile")]),t._v(" 二者选一。")]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("keyFile")]),t._v(": string")])]),t._v(" "),a("p",[t._v("密钥文件路径，如使用 OpenSSL 生成，后缀名为 .key。目前暂不支持需要密码的 key 文件。")]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("key")]),t._v(": [ string ]")])]),t._v(" "),a("p",[t._v("一个字符串数组，表示密钥内容，格式如样例如示。"),a("code",[t._v("key")]),t._v(" 和 "),a("code",[t._v("keyFile")]),t._v(" 二者选一。")]),t._v(" "),a("h3",{attrs:{id:"sockoptobject"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sockoptobject"}},[t._v("#")]),t._v(" SockoptObject")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"mark"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"tcpFastOpen"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"tproxy"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"off"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"domainStrategy"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"AsIs"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"dialerProxy"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("blockquote",[a("p",[a("code",[t._v("mark")]),t._v(": number")])]),t._v(" "),a("p",[t._v("一个整数。当其值非零时，在ountbound连接以此数值上标记 SO_MARK。")]),t._v(" "),a("ul",[a("li",[t._v("仅适用于 Linux 系统。")]),t._v(" "),a("li",[t._v("需要 CAP_NET_ADMIN 权限。")])]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("tcpFastOpen")]),t._v(": true | false")])]),t._v(" "),a("p",[t._v("是否启用 "),a("a",{attrs:{href:"https://zh.wikipedia.org/wiki/TCP%E5%BF%AB%E9%80%9F%E6%89%93%E5%BC%80",target:"_blank",rel:"noopener noreferrer"}},[t._v("TCP Fast Open"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("p",[t._v("当其值为 "),a("code",[t._v("true")]),t._v(" 时，强制开启 TFO；当其值为 "),a("code",[t._v("false")]),t._v(" 时，强制关闭 TFO；当此项不存在时，使用系统默认设置。\n可用于inbound/ountbound。")]),t._v(" "),a("ul",[a("li",[t._v("仅在以下版本（或更新版本）的操作系统中可用:\n"),a("ul",[a("li",[t._v("Windows 10 (1604)")]),t._v(" "),a("li",[t._v("Mac OS 10.11 / iOS 9")]),t._v(" "),a("li",[t._v("Linux 3.16：系统已默认开启，无需配置。")])])])]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("tproxy")]),t._v(': "redirect" | "tproxy" | "off"')])]),t._v(" "),a("p",[t._v("是否开启透明代理（仅适用于 Linux）。")]),t._v(" "),a("ul",[a("li",[a("code",[t._v('"redirect"')]),t._v("：使用 Redirect 模式的透明代理。支持所有基于 IPv4/6 的 TCP 和 UDP 连接。")]),t._v(" "),a("li",[a("code",[t._v('"tproxy"')]),t._v("：使用 TProxy 模式的透明代理。支持所有基于 IPv4/6 的 TCP 和 UDP 连接。")]),t._v(" "),a("li",[a("code",[t._v('"off"')]),t._v("：关闭透明代理。")])]),t._v(" "),a("p",[t._v("透明代理需要 Root 或 CAP_NET_ADMIN 权限。")]),t._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),a("p",[t._v("当 "),a("a",{attrs:{href:"./inbounds/dokodemo"}},[t._v("Dokodemo-door")]),t._v(" 中指定了 "),a("code",[t._v("followRedirect")]),t._v("为"),a("code",[t._v("true")]),t._v("，且 Sockopt设置中的"),a("code",[t._v("tproxy")]),t._v(" 为空时，Sockopt设置中的"),a("code",[t._v("tproxy")]),t._v(" 的值会被设为 "),a("code",[t._v('"redirect"')]),t._v("。")])]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("domainStrategy")]),t._v(': "AsIs" | "UseIP" | "UseIPv4" | "UseIPv6"')])]),t._v(" "),a("p",[t._v("在之前的版本中，当 Xray 尝试使用域名建立系统连接时，域名的解析由系统完成，不受 Xray 控制。这导致了在 "),a("a",{attrs:{href:"https://github.com/v2ray/v2ray-core/issues/1909",target:"_blank",rel:"noopener noreferrer"}},[t._v("非标准Linux环境中无法解析域名"),a("OutboundLink")],1),t._v(" 等问题。为此，Xray 1.3.1 为 Sockopt 引入了 Freedom 中的 domainStrategy，解决了此问题。")]),t._v(" "),a("p",[t._v("在目标地址为域名时, 配置相应的值, SysteDailer 的行为模式如下:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v('"AsIs"')]),t._v(": 通过系统DNS服务器解析获取IP, 向此域名发出连接。")]),t._v(" "),a("li",[a("code",[t._v('"UseIP"')]),t._v("、"),a("code",[t._v('"UseIPv4"')]),t._v(" 和 "),a("code",[t._v('"UseIPv6"')]),t._v(": Xray 使用"),a("a",{attrs:{href:"../dns"}},[t._v("内置 DNS 服务器")]),t._v("解析获取IP, 向此域名发出连接。")])]),t._v(" "),a("p",[t._v("默认值为 "),a("code",[t._v('"AsIs"')]),t._v("。")]),t._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),a("p",[t._v("如果启用了此功能，将有可能导致通过 "),a("code",[t._v("代理服务器")]),t._v(" 代理 "),a("code",[t._v("解析代理服务器IP的查询")]),t._v(" 的死循环。因此，"),a("strong",[t._v("不建议")]),t._v(" 经验不足的用户擅自使用此功能。")])]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("dialerProxy")]),t._v(': ""')])]),t._v(" "),a("p",[t._v("一个出站代理的标识。当值不为空时，将使用指定的outbound发出连接。\n此选项可用于支持底层传输方式的链式转发。")]),t._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),a("p",[t._v("此选项与 PorxySettingsObject.Tag 不兼容")])])])}),[],!1,null,null,null);s.default=n.exports}}]);