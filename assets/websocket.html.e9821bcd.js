import{_ as r,r as s,o as p,c as l,a as o,b as a,w as d,F as i,d as n,e}from"./app.52f6bc1f.js";const u={},b=n(`<h1 id="websocket" tabindex="-1"><a class="header-anchor" href="#websocket" aria-hidden="true">#</a> WebSocket</h1><p>\u4F7F\u7528\u6807\u51C6\u7684 WebSocket \u6765\u4F20\u8F93\u6570\u636E\u3002</p><p>WebSocket \u8FDE\u63A5\u53EF\u4EE5\u88AB\u5176\u5B83 HTTP \u670D\u52A1\u5668\uFF08\u5982 Nginx\uFF09\u5206\u6D41\uFF0C\u4E5F\u53EF\u4EE5\u88AB VLESS fallbacks path \u5206\u6D41\u3002</p><div class="custom-container tip"><p class="custom-container-title">\u63D0\u793A</p><p>Websocket \u4F1A\u8BC6\u522B HTTP \u8BF7\u6C42\u7684 X-Forwarded-For \u5934\u6765\u8986\u5199\u6D41\u91CF\u7684\u6E90\u5730\u5740\uFF0C\u4F18\u5148\u7EA7\u9AD8\u4E8E PROXY protocol\u3002</p></div><h2 id="websocketobject" tabindex="-1"><a class="header-anchor" href="#websocketobject" aria-hidden="true">#</a> WebSocketObject</h2><p><code>WebSocketObject</code> \u5BF9\u5E94\u4F20\u8F93\u914D\u7F6E\u7684 <code>wsSettings</code> \u9879\u3002</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;acceptProxyProtocol&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;path&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;headers&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;Host&quot;</span><span class="token operator">:</span> <span class="token string">&quot;xray.com&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><blockquote><p><code>acceptProxyProtocol</code>: true | false</p></blockquote><p>\u4EC5\u7528\u4E8E inbound\uFF0C\u6307\u793A\u662F\u5426\u63A5\u6536 PROXY protocol\u3002</p>`,9),k={href:"https://www.haproxy.org/download/2.2/doc/proxy-protocol.txt",target:"_blank",rel:"noopener noreferrer"},h=e("PROXY protocol"),_=e(" \u4E13\u7528\u4E8E\u4F20\u9012\u8BF7\u6C42\u7684\u771F\u5B9E\u6765\u6E90 IP \u548C\u7AEF\u53E3\uFF0C"),m=o("strong",null,"\u82E5\u4F60\u4E0D\u4E86\u89E3\u5B83\uFF0C\u8BF7\u5148\u5FFD\u7565\u8BE5\u9879",-1),x=e("\u3002"),q=n('<p>\u5E38\u89C1\u7684\u53CD\u4EE3\u8F6F\u4EF6\uFF08\u5982 HAProxy\u3001Nginx\uFF09\u90FD\u53EF\u4EE5\u914D\u7F6E\u53D1\u9001\u5B83\uFF0CVLESS fallbacks xver \u4E5F\u53EF\u4EE5\u53D1\u9001\u5B83\u3002</p><p>\u586B\u5199 <code>true</code> \u65F6\uFF0C\u6700\u5E95\u5C42 TCP \u8FDE\u63A5\u5EFA\u7ACB\u540E\uFF0C\u8BF7\u6C42\u65B9\u5FC5\u987B\u5148\u53D1\u9001 PROXY protocol v1 \u6216 v2\uFF0C\u5426\u5219\u8FDE\u63A5\u4F1A\u88AB\u5173\u95ED\u3002</p><blockquote><p><code>path</code> string</p></blockquote><p>WebSocket \u6240\u4F7F\u7528\u7684 HTTP \u534F\u8BAE\u8DEF\u5F84\uFF0C\u9ED8\u8BA4\u503C\u4E3A <code>&quot;/&quot;</code>\u3002</p><p>\u5982\u679C\u8DEF\u5F84\u4E2D\u5305\u542B <code>ed</code> \u53C2\u6570\uFF0C\u5C06\u4F1A\u542F\u7528 <code>Early Data</code> \u4EE5\u964D\u4F4E\u5EF6\u8FDF\uFF0C\u5176\u503C\u4E3A\u9996\u5305\u957F\u5EA6\u9608\u503C\u3002\u5982\u679C\u9996\u5305\u957F\u5EA6\u8D85\u8FC7\u6B64\u503C\uFF0C\u5C31\u4E0D\u4F1A\u542F\u7528 <code>Early Data</code>\u3002\u5EFA\u8BAE\u7684\u503C\u4E3A 2048\u3002</p><div class="custom-container warning"><p class="custom-container-title">\u6CE8\u610F</p><p><code>Early Data</code> \u4F7F\u7528 <code>Sec-WebSocket-Protocol</code> \u5934\u627F\u8F7D\u6570\u636E\u3002\u5982\u679C\u4F60\u9047\u5230\u517C\u5BB9\u6027\u95EE\u9898\uFF0C\u53EF\u4EE5\u5C1D\u8BD5\u8C03\u4F4E\u9608\u503C\u3002</p></div><blockquote><p><code>headers</code>: map {string: string}</p></blockquote><p>\u81EA\u5B9A\u4E49 HTTP \u5934\uFF0C\u4E00\u4E2A\u952E\u503C\u5BF9\uFF0C\u6BCF\u4E2A\u952E\u8868\u793A\u4E00\u4E2A HTTP \u5934\u7684\u540D\u79F0\uFF0C\u5BF9\u5E94\u7684\u503C\u662F\u5B57\u7B26\u4E32\u3002</p><p>\u9ED8\u8BA4\u503C\u4E3A\u7A7A\u3002</p><h2 id="browser-dialer" tabindex="-1"><a class="header-anchor" href="#browser-dialer" aria-hidden="true">#</a> Browser Dialer</h2>',10),w=e("\u4F7F\u7528\u6D4F\u89C8\u5668\u5904\u7406 TLS\uFF0C\u8BE6\u89C1 "),f=e("Browser Dialer");function g(P,S){const t=s("ExternalLinkIcon"),c=s("RouterLink");return p(),l(i,null,[b,o("p",null,[o("a",k,[h,a(t)]),_,m,x]),q,o("p",null,[w,a(c,{to:"/config/features/browser_dialer.html"},{default:d(()=>[f]),_:1})])],64)}var y=r(u,[["render",g],["__file","websocket.html.vue"]]);export{y as default};
